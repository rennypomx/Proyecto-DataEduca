{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>{% block title %}DataEduca - Dashboard{% endblock %}</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
  <link rel="icon" href="{% static 'img/logo.png' %}">
</head>

<body>
  <!-- === SIDEBAR (común a todas las páginas del dashboard) === -->
  <nav id="sidebar">
    <ul>
      <li class="brand">
        <div class="brand-logo">
          <img src="{% static 'img/logo.png' %}" alt="Logo DataEduca">
          <span class="logo-text">DataEduca</span>
        </div>
        <button id="toggle-btn" onclick="toggleSidebar()">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff">
            <path d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z"/>
          </svg>
        </button>
      </li>

      <!-- Navegación SPA -->
      <li>
        <a href="{% url 'inicio' %}" data-link>
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff">
           <path d="M160-200h640v-80H160v80Zm120-160 160-200 160 120 200-280-60-40-160 220-160-120-200 260 60 40Z"/>
          </svg>
          <span>Métricas</span>
        </a>
      </li>

      <li>
        <a href="{% url 'upload' %}" data-link>
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff">
            <path d="M440-200h80v-167l64 64 56-57-160-160-160 160 57 56 63-63v167ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/>
          </svg>
          <span>Subir Archivo</span>
        </a>
      </li>

      <li>
        <a href="{% url 'history' %}" data-link>
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#fff">
            <path d="M120-560v-240h80v94q51-64 124.5-99T480-840q150 0 255 105t105 255h-80q0-117-81.5-198.5T480-760q-69 0-129 32t-101 88h110v80H120Zm2 120h82q12 93 76.5 157.5T435-204l48 84q-138 0-242-91.5T122-440Zm412 70-94-94v-216h80v184l56 56-42 70ZM719 0l-12-60q-12-5-22.5-10.5T663-84l-58 18-40-68 46-40q-2-13-2-26t2-26l-46-40 40-68 58 18q11-8 21.5-13.5T707-340l12-60h80l12 60q12 5 23 11.5t21 14.5l58-20 40 70-46 40q2 13 2 25t-2 25l46 40-40 68-58-18q-11 8-21.5 13.5T811-60L799 0h-80Zm40-120q33 0 56.5-23.5T839-200q0-33-23.5-56.5T759-280q-33 0-56.5 23.5T679-200q0 33 23.5 56.5T759-120Z"/>
          </svg>
          <span>Historial Reportes</span>
        </a>
      </li>

      <li class="logout">
        <a href="{% url 'logout' %}">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FAA40E">
            <path d="M360-120q-33 0-56.5-23.5T280-200v-560q0-33 23.5-56.5T360-840h240v80H360v560h240v80H360Zm280-240v-120H480v-80h160v-120l160 160-160 160Z"/>
          </svg>
          <span>Cerrar Sesión</span>
        </a>
      </li>
    </ul>
  </nav>

  <!-- === CONTENEDOR PRINCIPAL DEL SPA === -->
  <main class="content-section">
    <!-- Donde se cargan dinámicamente los parciales -->
    <div id="main-content" data-current-route="{{ request.path }}">
      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{% static 'js/dashboard.js' %}?v=20251202b"></script>
  <script src="{% static 'js/spa.js' %}?v=20251202"></script>
  <script src="{% static 'js/upload.js' %}?v=20251202d"></script>
  <script src="{% static 'js/archivo-manager.js' %}?v=20251202d"></script>
  {% block extra_scripts %}{% endblock %}
</body>
</html>
